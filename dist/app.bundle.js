!function(e){function t(t){for(var n,o,a=t[0],i=t[1],c=0,s=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&s.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(l&&l(t);s.length;)s.shift()()}var n={},r={3:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({0:"ide",1:"vendors~editor~ide",4:"editor"}[e]||e)+".chunk.js"}(e);var l=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,n[1](l)}r[e]=void 0}};var s=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist/",o.oe=function(e){throw console.error(e),e};var a=self.webpackJsonp=self.webpackJsonp||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=i;o(o.s="./src/index.ts")}({"./src/highlight-effekt.js":function(e,t){hljs.registerLanguage("effekt",(function(e){var t={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_?!]+"},{begin:"\\${",end:"}"}]},n={className:"string",variants:[{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:'"""',end:'"""',relevance:10},{begin:'[a-z]+"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t]},{className:"string",begin:'[a-z]+"""',end:'"""',contains:[t],relevance:10}]},r={className:"type",begin:"\\b[A-Z][A-Za-z0-9_?!]*",relevance:0},o={className:"title",begin:/[^0-9\n\t "'(),.`{}\[\]:;][^\n\t "'(),.`{}\[\]:;]+|[^0-9\n\t "'(),.`{}\[\]:;=]/,relevance:0},a={className:"class",beginKeywords:"class object trait type",end:/[:={\[\n;]/,excludeEnd:!0,contains:[{beginKeywords:"extends with",relevance:10},{begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},o]},i={className:"function",beginKeywords:"def",end:/[:={\[(\n;]/,excludeEnd:!0,contains:[o]};return{name:"Effekt",keywords:{literal:"true false null",keyword:"module effect type def with val var if for while import return else case try match resume do record region in new interface let box unbox fun extern and is namespace"},contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"symbol",begin:"'\\w[\\w\\d_?!]*(?!')"},r,i,a,e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"}]}})),e.exports=hljs},"./src/index.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/highlight-effekt.js");function o(e,t="active"){const n=document.querySelector(e);n&&n.classList.toggle(t)}function a(e,t){[...t.getElementsByTagName("h"+e)].map(e=>{void 0!==e.id&&""!==e.id&&e.append(function(e){const t=document.createElement("a");return t.className="header-link",t.href="#"+e,t.innerHTML='<i class="fa fa-link"></i>',t}(e.id))})}function i(){document.body.classList.contains("docs")&&(function(){const e=document.querySelectorAll("#menu-toggle, #main-toggle"),t=e=>{e.preventDefault(),o("#wrapper","toggled")};e&&[...e].map(e=>{e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("click",t)})}(),function(){const e=document.querySelectorAll(".drop-nested"),t=e=>{e.preventDefault(),function(e,t="active"){const n=e.parentNode;n&&n.classList.toggle(t)}(e.currentTarget,"open");if("a"===e.currentTarget.tagName.toLowerCase()){const t=e.currentTarget,n=t.parentNode,r=t.href;r===window.location.href||n.classList.contains("active")||(window.location.href=r)}};e&&[...e].map(e=>{e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("click",t)})}(),function(){const e=document.querySelector("#content");[...Array(7).keys()].map(t=>{a(t,e)})}())}var c=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},s=null,d=null;function u(e,t,r,o){return c(this,void 0,void 0,(function(){var a,i,c,u,f,p,m,g,h,v;return l(this,(function(l){switch(l.label){case 0:return(a=e.parentNode).classList.add("editor-loading"),[4,Promise.all([n.e(1),n.e(0)]).then(n.bind(null,"./src/ide.ts"))];case 1:return i=l.sent(),[4,Promise.all([n.e(1),n.e(0),n.e(4)]).then(n.bind(null,"./src/editor.ts"))];case 2:return c=l.sent(),a.classList.remove("editor-loading"),a.classList.add("editor"),u=e.attributes.module.value,f=u+".effekt",p=e.attributes.content.value,e.textContent="",m=e.attributes.prelude.value||"",g=e.attributes.postlude.value||"\n",h=i.createModel(f,p,m,g),i.updateModel(h),h.onDidChangeContent((function(e){i.updateModel(h)})),t&&((v=document.createElement("ul")).classList.add("repl-output"),a.insertAdjacentElement("afterend",v)),c.create(e,t,v,r,o,h),"playground"===e.id?s=h:"repl"===e.id&&(d=h),[2]}}))}))}function f(){var e=document.querySelectorAll("pre > code"),t=0,n="";function o(e,r){var o="module"+t++;e.setAttribute("module",o);var a="module "+o+"\n",i=e.parentElement;if(r.repl)i.classList.add("repl"),e.setAttribute("prelude",a+n+"\ndef main() = inspect(\n"),e.setAttribute("content",e.textContent),e.setAttribute("postlude","\n)\n");else{var c=a+n;e.setAttribute("prelude",c),e.setAttribute("postlude","\n"),e.setAttribute("content",e.textContent),r.ignore||(n=n+"import "+o+"\n")}}e.forEach((function(e){var t=function(e){var t=p;return e.classList.forEach((function(e){var n;n="language-",0==e.indexOf(n)&&(t=function(e){var t=e.split(":");function n(e){return-1!=t.indexOf(e)}return{language:/^language-([a-zA-Z_\-$]+)/.exec(e)[1],hidden:n("hide"),prelude:n("prelude"),repl:n("repl"),readOnly:n("read-only"),reset:n("reset"),ignore:n("ignore"),sketch:n("sketch"),core:n("core"),lifted:n("lifted")}}(e))})),t}(e);t.reset&&(n=""),t.hidden&&(e.classList.add("hidden"),e.parentElement.classList.add("hidden")),"effekt"==t.language&&(t.repl&&e.classList.add("repl"),t.prelude&&(n+=e.textContent),t.prelude||t.sketch||(t.readOnly?o(e,t):(o(e,t),function(e,t){var n,r,o,a,i,c=e.parentNode.parentNode,l=document.createElement("nav");if(l.classList.add("code-menu"),t.core&&((n=document.createElement("code")).innerHTML="// Please click 'edit' to show generated core.",(o=document.createElement("div")).classList.add("core-out"),(a=document.createElement("h4")).innerHTML="Generated Core",o.appendChild(a),(i=document.createElement("pre")).append(n),o.appendChild(i),c.insertBefore(o,e.parentNode.nextSibling)),t.lifted&&((r=document.createElement("code")).innerHTML="// Please click 'edit' to show generated lifted core.",(o=document.createElement("div")).classList.add("core-out"),(a=document.createElement("h4")).innerHTML="Generated Lifted Core",o.appendChild(a),(i=document.createElement("pre")).append(r),o.appendChild(i),c.insertBefore(o,e.parentNode.nextSibling)),t.repl){var s=document.createElement("button");s.classList.add("button-run"),s.textContent="run",l.append(s),s.onclick=function(){return u(e,s,n,r),!1}}else if(!t.readOnly){if("playground"===e.id){var d=document.createElement("button");d.setAttribute("id","button-share"),d.textContent="share",l.append(d)}var f=document.createElement("button");f.classList.add("button-edit"),f.textContent="edit",l.append(f);f.onclick=function(){return f.onclick=function(){return!1},f.classList.add("disabled"),u(e,null,n,r),!1}}e.parentNode.prepend(l)}(e,t))),r.highlightBlock(e))}))}var p={language:"effekt",hidden:!1,prelude:!1,repl:!1,readOnly:!1,reset:!1,ignore:!1,sketch:!1,core:!1,lifted:!1};function m(e){return btoa(encodeURIComponent(e))}function g(e){var t=function(e){return new URLSearchParams(window.location.search).get(e)}(e),n=document.getElementById(e);if(t&&n){h();var r=function(e){try{return decodeURIComponent(atob(e))}catch(e){return console.error("Failed to decode base64 string:",e),""}}(t);n.textContent=r}}function h(){var e=document.getElementById("playground-warning");e&&e.classList.remove("hidden")}window.addEventListener("DOMContentLoaded",(function(){g("playground"),g("repl"),f();var e=document.getElementById("button-share");e&&(e.onclick=function(){h(),function(){var e,t,n=new URL(window.location.href);e=s?s.getValue():document.getElementById("playground")?document.getElementById("playground").textContent:"",t=d?d.getValue():document.getElementById("repl")?document.getElementById("repl").textContent:"";var r=m(e),o=m(t);n.searchParams.set("playground",r),n.searchParams.set("repl",o),navigator.clipboard.writeText(n.toString()).then((function(){history.pushState(null,"",n.toString())})).catch((function(e){console.error("Error copying text: ",e)}))}()}),r.configure({languages:["effekt","bash"]}),document.querySelectorAll("code").forEach((function(e){"pre"!=e.parentElement.tagName&&r.highlightBlock(e)})),i()}))}});