(()=>{var e,t,n={"./src/highlight-effekt.js":e=>{hljs.registerLanguage("effekt",(function(e){var t={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_?!]+"},{begin:"\\${",end:"}"}]},n={className:"string",variants:[{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:'"""',end:'"""',relevance:10},{begin:'[a-z]+"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t]},{className:"string",begin:'[a-z]+"""',end:'"""',contains:[t],relevance:10}]},r={className:"type",begin:"\\b[A-Z][A-Za-z0-9_?!]*",relevance:0},a={className:"title",begin:/[^0-9\n\t "'(),.`{}\[\]:;][^\n\t "'(),.`{}\[\]:;]+|[^0-9\n\t "'(),.`{}\[\]:;=]/,relevance:0},o={className:"class",beginKeywords:"class object trait type",end:/[:={\[\n;]/,excludeEnd:!0,contains:[{beginKeywords:"extends with",relevance:10},{begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},a]},i={className:"function",beginKeywords:"def",end:/[:={\[(\n;]/,excludeEnd:!0,contains:[a]};return{name:"Effekt",keywords:{literal:"true false null",keyword:"module effect type def with val var if for while import return else case try match resume do record region in new interface let box unbox fun extern and is namespace"},contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"symbol",begin:"'\\w[\\w\\d_?!]*(?!')"},r,i,o,e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"}]}})),e.exports=hljs},"./src/index.ts":(e,t,n)=>{"use strict";n.d(t,{u:()=>he});var r=n("./src/highlight-effekt.js");function a(e,t="active"){const n=document.querySelector(e);n&&n.classList.toggle(t)}function o(e,t){[...t.getElementsByTagName(`h${e}`)].map((e=>{void 0!==e.id&&""!==e.id&&e.append(function(e){const t=document.createElement("a");return t.className="header-link",t.href=`#${e}`,t.innerHTML='<i class="fa fa-link"></i>',t}(e.id))}))}function i(){document.body.classList.contains("docs")&&(function(){const e=document.querySelectorAll("#menu-toggle, #main-toggle"),t=e=>{e.preventDefault(),a("#wrapper","toggled")};e&&[...e].map((e=>{e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("click",t)}))}(),function(){const e=document.querySelectorAll(".drop-nested"),t=e=>{if(e.preventDefault(),function(e,t="active"){const n=e.parentNode;n&&n.classList.toggle(t)}(e.currentTarget,"open"),"a"===e.currentTarget.tagName.toLowerCase()){const t=e.currentTarget,n=t.parentNode,r=t.href;r===window.location.href||n.classList.contains("active")||(window.location.href=r)}};e&&[...e].map((e=>{e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("click",t)}))}(),function(){const e=document.querySelector("#content");[...Array(7).keys()].map((t=>{o(t,e)}))}())}var l=Uint8Array,c=Uint16Array,u=Int32Array,s=new l([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d=new l([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f=new l([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=function(e,t){for(var n=new c(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new u(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)a[o]=o-n[r]<<5|r;return{b:n,r:a}},p=v(s,2),h=p.b,g=p.r;h[28]=258,g[258]=28;for(var m=v(d,0),b=m.b,y=m.r,w=new c(32768),E=0;E<32768;++E){var k=(43690&E)>>1|(21845&E)<<1;k=(61680&(k=(52428&k)>>2|(13107&k)<<2))>>4|(3855&k)<<4,w[E]=((65280&k)>>8|(255&k)<<8)>>1}var x=function(e,t,n){for(var r=e.length,a=0,o=new c(t);a<r;++a)e[a]&&++o[e[a]-1];var i,l=new c(t);for(a=1;a<t;++a)l[a]=l[a-1]+o[a-1]<<1;if(n){i=new c(1<<t);var u=15-t;for(a=0;a<r;++a)if(e[a])for(var s=a<<4|e[a],d=t-e[a],f=l[e[a]-1]++<<d,v=f|(1<<d)-1;f<=v;++f)i[w[f]>>u]=s}else for(i=new c(r),a=0;a<r;++a)e[a]&&(i[a]=w[l[e[a]-1]++]>>15-e[a]);return i},C=new l(288);for(E=0;E<144;++E)C[E]=8;for(E=144;E<256;++E)C[E]=9;for(E=256;E<280;++E)C[E]=7;for(E=280;E<288;++E)C[E]=8;var L=new l(32);for(E=0;E<32;++E)L[E]=5;var A=x(C,9,0),M=x(C,9,1),S=x(L,5,0),N=x(L,5,1),T=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},O=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},_=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},B=function(e){return(e+7)/8|0},j=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new l(e.subarray(t,n))},P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],I=function(e,t,n){var r=new Error(t||P[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,I),!n)throw r;return r},q=function(e,t,n,r){var a=e.length,o=r?r.length:0;if(!a||t.f&&!t.l)return n||new l(0);var i=!n,c=i||2!=t.i,u=t.i;i&&(n=new l(3*a));var v=function(e){var t=n.length;if(e>t){var r=new l(Math.max(2*t,e));r.set(n),n=r}},p=t.f||0,g=t.p||0,m=t.b||0,y=t.l,w=t.d,E=t.m,k=t.n,C=8*a;do{if(!y){p=O(e,g,1);var L=O(e,g+1,3);if(g+=3,!L){var A=e[($=B(g)+4)-4]|e[$-3]<<8,S=$+A;if(S>a){u&&I(0);break}c&&v(m+A),n.set(e.subarray($,S),m),t.b=m+=A,t.p=g=8*S,t.f=p;continue}if(1==L)y=M,w=N,E=9,k=5;else if(2==L){var P=O(e,g,31)+257,q=O(e,g+10,15)+4,D=P+O(e,g+5,31)+1;g+=14;for(var z=new l(D),H=new l(19),U=0;U<q;++U)H[f[U]]=O(e,g+3*U,7);g+=3*q;var F=T(H),K=(1<<F)-1,Z=x(H,F,1);for(U=0;U<D;){var $,R=Z[O(e,g,K)];if(g+=15&R,($=R>>4)<16)z[U++]=$;else{var G=0,V=0;for(16==$?(V=3+O(e,g,3),g+=2,G=z[U-1]):17==$?(V=3+O(e,g,7),g+=3):18==$&&(V=11+O(e,g,127),g+=7);V--;)z[U++]=G}}var J=z.subarray(0,P),Q=z.subarray(P);E=T(J),k=T(Q),y=x(J,E,1),w=x(Q,k,1)}else I(1);if(g>C){u&&I(0);break}}c&&v(m+131072);for(var W=(1<<E)-1,X=(1<<k)-1,Y=g;;Y=g){var ee=(G=y[_(e,g)&W])>>4;if((g+=15&G)>C){u&&I(0);break}if(G||I(2),ee<256)n[m++]=ee;else{if(256==ee){Y=g,y=null;break}var te=ee-254;if(ee>264){var ne=s[U=ee-257];te=O(e,g,(1<<ne)-1)+h[U],g+=ne}var re=w[_(e,g)&X],ae=re>>4;re||I(3),g+=15&re;Q=b[ae];if(ae>3){ne=d[ae];Q+=_(e,g)&(1<<ne)-1,g+=ne}if(g>C){u&&I(0);break}c&&v(m+131072);var oe=m+te;if(m<Q){var ie=o-Q,le=Math.min(Q,oe);for(ie+m<0&&I(3);m<le;++m)n[m]=r[ie+m]}for(;m<oe;++m)n[m]=n[m-Q]}}t.l=y,t.p=Y,t.b=m,t.f=p,y&&(p=1,t.m=E,t.d=w,t.n=k)}while(!p);return m!=n.length&&i?j(n,0,m):n.subarray(0,m)},D=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},z=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},H=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,o=n.slice();if(!a)return{t:G,l:0};if(1==a){var i=new l(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var u=n[0],s=n[1],d=0,f=1,v=2;for(n[0]={s:-1,f:u.f+s.f,l:u,r:s};f!=a-1;)u=n[n[d].f<n[v].f?d++:v++],s=n[d!=f&&n[d].f<n[v].f?d++:v++],n[f++]={s:-1,f:u.f+s.f,l:u,r:s};var p=o[0].s;for(r=1;r<a;++r)o[r].s>p&&(p=o[r].s);var h=new c(p+1),g=U(n[f-1],h,0);if(g>t){r=0;var m=0,b=g-t,y=1<<b;for(o.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));r<a;++r){var w=o[r].s;if(!(h[w]>t))break;m+=y-(1<<g-h[w]),h[w]=t}for(m>>=b;m>0;){var E=o[r].s;h[E]<t?m-=1<<t-h[E]++-1:++r}for(;r>=0&&m;--r){var k=o[r].s;h[k]==t&&(--h[k],++m)}g=t}return{t:new l(h),l:g}},U=function(e,t,n){return-1==e.s?Math.max(U(e.l,t,n+1),U(e.r,t,n+1)):t[e.s]=n},F=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new c(++t),r=0,a=e[0],o=1,i=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==a&&l!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(a),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(a);o=1,a=e[l]}return{c:n.subarray(0,r),n:t}},K=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Z=function(e,t,n){var r=n.length,a=B(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var o=0;o<r;++o)e[a+o+4]=n[o];return 8*(a+4+r)},$=function(e,t,n,r,a,o,i,l,u,v,p){D(t,p++,n),++a[256];for(var h=H(a,15),g=h.t,m=h.l,b=H(o,15),y=b.t,w=b.l,E=F(g),k=E.c,M=E.n,N=F(y),T=N.c,O=N.n,_=new c(19),B=0;B<k.length;++B)++_[31&k[B]];for(B=0;B<T.length;++B)++_[31&T[B]];for(var j=H(_,7),P=j.t,I=j.l,q=19;q>4&&!P[f[q-1]];--q);var U,$,R,G,V=v+5<<3,J=K(a,C)+K(o,L)+i,Q=K(a,g)+K(o,y)+i+14+3*q+K(_,P)+2*_[16]+3*_[17]+7*_[18];if(u>=0&&V<=J&&V<=Q)return Z(t,p,e.subarray(u,u+v));if(D(t,p,1+(Q<J)),p+=2,Q<J){U=x(g,m,0),$=g,R=x(y,w,0),G=y;var W=x(P,I,0);D(t,p,M-257),D(t,p+5,O-1),D(t,p+10,q-4),p+=14;for(B=0;B<q;++B)D(t,p+3*B,P[f[B]]);p+=3*q;for(var X=[k,T],Y=0;Y<2;++Y){var ee=X[Y];for(B=0;B<ee.length;++B){var te=31&ee[B];D(t,p,W[te]),p+=P[te],te>15&&(D(t,p,ee[B]>>5&127),p+=ee[B]>>12)}}}else U=A,$=C,R=S,G=L;for(B=0;B<l;++B){var ne=r[B];if(ne>255){z(t,p,U[(te=ne>>18&31)+257]),p+=$[te+257],te>7&&(D(t,p,ne>>23&31),p+=s[te]);var re=31&ne;z(t,p,R[re]),p+=G[re],re>3&&(z(t,p,ne>>5&8191),p+=d[re])}else z(t,p,U[ne]),p+=$[ne]}return z(t,p,U[256]),p+$[256]},R=new u([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),G=new l(0),V=function(e,t,n,r,a,o){var i=o.z||e.length,f=new l(r+i+5*(1+Math.ceil(i/7e3))+a),v=f.subarray(r,f.length-a),p=o.l,h=7&(o.r||0);if(t){h&&(v[0]=o.r>>3);for(var m=R[t-1],b=m>>13,w=8191&m,E=(1<<n)-1,k=o.p||new c(32768),x=o.h||new c(E+1),C=Math.ceil(n/3),L=2*C,A=function(t){return(e[t]^e[t+1]<<C^e[t+2]<<L)&E},M=new u(25e3),S=new c(288),N=new c(32),T=0,O=0,_=o.i||0,P=0,I=o.w||0,q=0;_+2<i;++_){var D=A(_),z=32767&_,H=x[D];if(k[z]=H,x[D]=z,I<=_){var U=i-_;if((T>7e3||P>24576)&&(U>423||!p)){h=$(e,v,0,M,S,N,O,P,q,_-q,h),P=T=O=0,q=_;for(var F=0;F<286;++F)S[F]=0;for(F=0;F<30;++F)N[F]=0}var K=2,G=0,V=w,J=z-H&32767;if(U>2&&D==A(_-J))for(var Q=Math.min(b,U)-1,W=Math.min(32767,_),X=Math.min(258,U);J<=W&&--V&&z!=H;){if(e[_+K]==e[_+K-J]){for(var Y=0;Y<X&&e[_+Y]==e[_+Y-J];++Y);if(Y>K){if(K=Y,G=J,Y>Q)break;var ee=Math.min(J,Y-2),te=0;for(F=0;F<ee;++F){var ne=_-J+F&32767,re=ne-k[ne]&32767;re>te&&(te=re,H=ne)}}}J+=(z=H)-(H=k[z])&32767}if(G){M[P++]=268435456|g[K]<<18|y[G];var ae=31&g[K],oe=31&y[G];O+=s[ae]+d[oe],++S[257+ae],++N[oe],I=_+K,++T}else M[P++]=e[_],++S[e[_]]}}for(_=Math.max(_,I);_<i;++_)M[P++]=e[_],++S[e[_]];h=$(e,v,p,M,S,N,O,P,q,_-q,h),p||(o.r=7&h|v[h/8|0]<<3,h-=7,o.h=x,o.p=k,o.i=_,o.w=I)}else{for(_=o.w||0;_<i+p;_+=65535){var ie=_+65535;ie>=i&&(v[h/8|0]=p,ie=i),h=Z(v,h+1,e.subarray(_,ie))}o.i=i}return j(f,0,r+B(h)+a)},J=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),i=new l(o.length+e.length);i.set(o),i.set(e,o.length),e=i,a.w=o.length}return V(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)};function Q(e,t){return J(e,t||{},0,0)}function W(e,t){return q(e,{i:2},t&&t.out,t&&t.dictionary)}var X="undefined"!=typeof TextEncoder&&new TextEncoder,Y="undefined"!=typeof TextDecoder&&new TextDecoder;try{Y.decode(G,{stream:!0})}catch(e){}var ee=function(e){for(var t="",n=0;;){var r=e[n++],a=(r>127)+(r>223)+(r>239);if(n+a>e.length)return{s:t,r:j(e,n-1)};a?3==a?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&a?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}};function te(e,t){if(t){for(var n=new l(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(X)return X.encode(e);var a=e.length,o=new l(e.length+(e.length>>1)),i=0,c=function(e){o[i++]=e};for(r=0;r<a;++r){if(i+5>o.length){var u=new l(i+8+(a-r<<1));u.set(o),o=u}var s=e.charCodeAt(r);s<128||t?c(s):s<2048?(c(192|s>>6),c(128|63&s)):s>55295&&s<57344?(c(240|(s=65536+(1047552&s)|1023&e.charCodeAt(++r))>>18),c(128|s>>12&63),c(128|s>>6&63),c(128|63&s)):(c(224|s>>12),c(128|s>>6&63),c(128|63&s))}return j(o,0,i)}function ne(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(Y)return Y.decode(e);var a=ee(e),o=a.s;return(n=a.r).length&&I(8),o}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function re(e){try{return btoa(e)}catch(e){return console.error("Failed to encode string to base64:",e),""}}function ae(e){try{return atob(e)}catch(e){return console.error("Failed to decode base64 string:",e),""}}var oe=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},ie=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},le=null,ce=null;function ue(e,t,r,a){return oe(this,void 0,void 0,(function(){var o,i,l,c,u,s,d,f,v,p;return ie(this,(function(h){switch(h.label){case 0:return(o=e.parentNode).classList.add("editor-loading"),[4,Promise.all([n.e("vendors"),n.e("ide")]).then(n.bind(n,"./src/ide.ts"))];case 1:return i=h.sent(),[4,Promise.all([n.e("vendors"),n.e("ide"),n.e("editor")]).then(n.bind(n,"./src/editor.ts"))];case 2:return l=h.sent(),o.classList.remove("editor-loading"),o.classList.add("editor"),c=e.attributes.module.value,u=c+".effekt",s=e.attributes.content.value,e.textContent="",d=e.attributes.prelude.value||"",f=e.attributes.postlude.value||"\n",v=i.createModel(u,s,d,f),i.updateModel(v),v.onDidChangeContent((function(e){i.updateModel(v)})),t&&((p=document.createElement("ul")).classList.add("repl-output"),o.insertAdjacentElement("afterend",p)),l.create(e,t,p,r,a,v),"playground"===e.id?le=v:"repl"===e.id&&(ce=v,he(!1)),[2]}}))}))}function se(){var e=document.querySelectorAll("pre > code"),t=0,n="";function a(e,r){var a="module"+t++;e.setAttribute("module",a);var o="module "+a+"\n",i=e.parentElement;if(r.repl)i.classList.add("repl"),e.setAttribute("prelude",o+n+"\ndef main() = inspect(locally{\n"),e.setAttribute("content",e.textContent),e.setAttribute("postlude","\n})\n");else{var l=o+n;e.setAttribute("prelude",l),e.setAttribute("postlude","\n"),e.setAttribute("content",e.textContent),r.ignore||(n=n+"import "+a+"\n")}}e.forEach((function(e){var t=function(e){var t=de;return e.classList.forEach((function(e){var n;n="language-",0==e.indexOf(n)&&(t=function(e){var t=/^language-([a-zA-Z_\-$]+)/,n=e.split(":");function r(e){return-1!=n.indexOf(e)}return{language:t.exec(e)[1],hidden:r("hide"),prelude:r("prelude"),repl:r("repl"),readOnly:r("read-only"),reset:r("reset"),ignore:r("ignore"),sketch:r("sketch"),core:r("core"),lifted:r("lifted")}}(e))})),t}(e);t.reset&&(n=""),t.hidden&&(e.classList.add("hidden"),e.parentElement.classList.add("hidden")),"effekt"==t.language&&(t.repl&&e.classList.add("repl"),t.prelude&&(n+=e.textContent),t.prelude||t.sketch||(t.readOnly?a(e,t):(a(e,t),function(e,t){var n,r,a,o,i,l=e.parentNode.parentNode,c=document.createElement("nav");if(c.classList.add("code-menu"),t.core&&((n=document.createElement("code")).innerHTML="// Please click 'edit' to show generated core.",(a=document.createElement("div")).classList.add("core-out"),(o=document.createElement("h4")).innerHTML="Generated Core",a.appendChild(o),(i=document.createElement("pre")).append(n),a.appendChild(i),l.insertBefore(a,e.parentNode.nextSibling)),t.lifted&&((r=document.createElement("code")).innerHTML="// Please click 'edit' to show generated lifted core.",(a=document.createElement("div")).classList.add("core-out"),(o=document.createElement("h4")).innerHTML="Generated Lifted Core",a.appendChild(o),(i=document.createElement("pre")).append(r),a.appendChild(i),l.insertBefore(a,e.parentNode.nextSibling)),t.repl){var u=document.createElement("button");u.classList.add("button-run"),u.textContent="run",c.append(u),u.onclick=function(){return ue(e,u,n,r),"repl"===e.id&&he(!1),!1}}else if(!t.readOnly){if("playground"===e.id){var s=document.createElement("button");s.setAttribute("id","button-share"),s.textContent="share",c.append(s);var d=document.createElement("button");d.setAttribute("id","button-copy"),d.textContent="copy",c.append(d),d.onclick=function(){var e=fe();navigator.clipboard.writeText(e)}}var f=document.createElement("button");f.classList.add("button-edit"),f.textContent="edit",c.append(f),f.onclick=function(){return f.onclick=function(){return!1},f.classList.add("disabled"),ue(e,null,n,r),!1}}e.parentNode.prepend(c)}(e,t))),r.highlightBlock(e))}))}var de={language:"effekt",hidden:!1,prelude:!1,repl:!1,readOnly:!1,reset:!1,ignore:!1,sketch:!1,core:!1,lifted:!1};function fe(){return le?le.getValue():document.getElementById("playground")?document.getElementById("playground").textContent:""}function ve(){return function(e){try{return re(ne(Q(te(e)),!0))}catch(e){return console.error("Failed to compress and encode string:",e),""}}(fe())}function pe(){return re(ce?ce.getValue():document.getElementById("repl")?document.getElementById("repl").textContent:"")}function he(e){void 0===e&&(e=!0);var t=new URL(window.location.href);t.searchParams.set("playground",ve()),t.searchParams.set("repl",pe()),e&&navigator.clipboard.writeText(t.toString()).catch((function(e){console.error("Error copying text: ",e)})),history.pushState(null,"",t.toString())}function ge(e,t){var n=function(e){return new URLSearchParams(window.location.search).get(e)}(e),r=document.getElementById(e);if(n&&r){me();var a=t?function(e){try{return ne(W(te(ae(e),!0)))}catch(e){return console.error("Failed to decode and decompress string:",e),""}}(n):ae(n);r.textContent=a}}function me(){var e=document.getElementById("playground-warning");e&&e.classList.remove("hidden")}window.addEventListener("DOMContentLoaded",(function(){ge("playground",!0),ge("repl",!1),se();var e=document.getElementById("button-share");e&&(e.onclick=function(){me(),he()}),r.configure({languages:["effekt","bash"]}),document.querySelectorAll("code").forEach((function(e){"pre"!=e.parentElement.tagName&&r.highlightBlock(e)})),i()}))}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,a),o.exports}a.m=n,a.amdO={},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".chunk.js",a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="effekt-website:",a.l=(n,r,o,i)=>{if(e[n])e[n].push(r);else{var l,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var d=u[s];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(c=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+o),l.src=n),e[n]=[r];var f=(t,r)=>{l.onerror=l.onload=null,clearTimeout(v);var a=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(r))),t)return t(r)},v=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),c&&document.head.appendChild(l)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j="app",a.p="/dist/",(()=>{a.b=document.baseURI||self.location.href;var e={app:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=o);var i=a.p+a.u(t),l=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,r[1](l)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,l,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(c)c(a)}for(t&&t(n);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkeffekt_website=self.webpackChunkeffekt_website||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0;a("./src/index.ts")})();