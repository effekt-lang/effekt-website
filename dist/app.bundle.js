(()=>{var e,t,n={"./src/highlight-effekt.js":e=>{hljs.registerLanguage("effekt",(function(e){var t={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_?!]+"},{begin:"\\${",end:"}"}]},n={className:"string",variants:[{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:'"""',end:'"""',relevance:10},{begin:'[a-z]+"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t]},{className:"string",begin:'[a-z]+"""',end:'"""',contains:[t],relevance:10}]},r={className:"type",begin:"\\b[A-Z][A-Za-z0-9_?!]*",relevance:0},a={className:"title",begin:/[^0-9\n\t "'(),.`{}\[\]:;][^\n\t "'(),.`{}\[\]:;]+|[^0-9\n\t "'(),.`{}\[\]:;=]/,relevance:0},o={className:"class",beginKeywords:"class object trait type",end:/[:={\[\n;]/,excludeEnd:!0,contains:[{beginKeywords:"extends with",relevance:10},{begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},a]},i={className:"function",beginKeywords:"def",end:/[:={\[(\n;]/,excludeEnd:!0,contains:[a]};return{name:"Effekt",keywords:{literal:"true false null",keyword:"module effect type def with val var if for while import return else case try match resume do record region in new interface let box unbox fun extern and is namespace"},contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"symbol",begin:"'\\w[\\w\\d_?!]*(?!')"},r,i,o,e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"}]}})),e.exports=hljs}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,a),o.exports}a.m=n,a.amdO={},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".chunk.js",a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="effekt-website:",a.l=(n,r,o,i)=>{if(e[n])e[n].push(r);else{var l,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var d=u[s];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(c=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+o),l.src=n),e[n]=[r];var f=(t,r)=>{l.onerror=l.onload=null,clearTimeout(v);var a=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(r))),t)return t(r)},v=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),c&&document.head.appendChild(l)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j="app",a.p="/dist/",(()=>{a.b=document.baseURI||self.location.href;var e={app:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=o);var i=a.p+a.u(t),l=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,r[1](l)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,l,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(c)c(a)}for(t&&t(n);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkeffekt_website=self.webpackChunkeffekt_website||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0,(()=>{"use strict";var e=a("./src/highlight-effekt.js");function t(e,t="active"){const n=document.querySelector(e);n&&n.classList.toggle(t)}function n(e,t){[...t.getElementsByTagName(`h${e}`)].map((e=>{void 0!==e.id&&""!==e.id&&e.append(function(e){const t=document.createElement("a");return t.className="header-link",t.href=`#${e}`,t.innerHTML='<i class="fa fa-link"></i>',t}(e.id))}))}function r(){document.body.classList.contains("docs")&&(function(){const e=document.querySelectorAll("#menu-toggle, #main-toggle"),n=e=>{e.preventDefault(),t("#wrapper","toggled")};e&&[...e].map((e=>{e.addEventListener("touchstart",n,{passive:!1}),e.addEventListener("click",n)}))}(),function(){const e=document.querySelectorAll(".drop-nested"),t=e=>{if(e.preventDefault(),function(e,t="active"){const n=e.parentNode;n&&n.classList.toggle(t)}(e.currentTarget,"open"),"a"===e.currentTarget.tagName.toLowerCase()){const t=e.currentTarget,n=t.parentNode,r=t.href;r===window.location.href||n.classList.contains("active")||(window.location.href=r)}};e&&[...e].map((e=>{e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("click",t)}))}(),function(){const e=document.querySelector("#content");[...Array(7).keys()].map((t=>{n(t,e)}))}())}var o=Uint8Array,i=Uint16Array,l=Int32Array,c=new o([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u=new o([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new o([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=function(e,t){for(var n=new i(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new l(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)a[o]=o-n[r]<<5|r;return{b:n,r:a}},f=d(c,2),v=f.b,p=f.r;v[28]=258,p[258]=28;for(var h=d(u,0),g=h.b,m=h.r,b=new i(32768),y=0;y<32768;++y){var w=(43690&y)>>1|(21845&y)<<1;w=(61680&(w=(52428&w)>>2|(13107&w)<<2))>>4|(3855&w)<<4,b[y]=((65280&w)>>8|(255&w)<<8)>>1}var E=function(e,t,n){for(var r=e.length,a=0,o=new i(t);a<r;++a)e[a]&&++o[e[a]-1];var l,c=new i(t);for(a=1;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;if(n){l=new i(1<<t);var u=15-t;for(a=0;a<r;++a)if(e[a])for(var s=a<<4|e[a],d=t-e[a],f=c[e[a]-1]++<<d,v=f|(1<<d)-1;f<=v;++f)l[b[f]>>u]=s}else for(l=new i(r),a=0;a<r;++a)e[a]&&(l[a]=b[c[e[a]-1]++]>>15-e[a]);return l},k=new o(288);for(y=0;y<144;++y)k[y]=8;for(y=144;y<256;++y)k[y]=9;for(y=256;y<280;++y)k[y]=7;for(y=280;y<288;++y)k[y]=8;var x=new o(32);for(y=0;y<32;++y)x[y]=5;var C=E(k,9,0),L=E(k,9,1),M=E(x,5,0),A=E(x,5,1),S=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},N=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},T=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},O=function(e){return(e+7)/8|0},_=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new o(e.subarray(t,n))},B=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],j=function(e,t,n){var r=new Error(t||B[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,j),!n)throw r;return r},P=function(e,t,n,r){var a=e.length,i=r?r.length:0;if(!a||t.f&&!t.l)return n||new o(0);var l=!n,d=l||2!=t.i,f=t.i;l&&(n=new o(3*a));var p=function(e){var t=n.length;if(e>t){var r=new o(Math.max(2*t,e));r.set(n),n=r}},h=t.f||0,m=t.p||0,b=t.b||0,y=t.l,w=t.d,k=t.m,x=t.n,C=8*a;do{if(!y){h=N(e,m,1);var M=N(e,m+1,3);if(m+=3,!M){var B=e[($=O(m)+4)-4]|e[$-3]<<8,P=$+B;if(P>a){f&&j(0);break}d&&p(b+B),n.set(e.subarray($,P),b),t.b=b+=B,t.p=m=8*P,t.f=h;continue}if(1==M)y=L,w=A,k=9,x=5;else if(2==M){var I=N(e,m,31)+257,q=N(e,m+10,15)+4,D=I+N(e,m+5,31)+1;m+=14;for(var z=new o(D),H=new o(19),U=0;U<q;++U)H[s[U]]=N(e,m+3*U,7);m+=3*q;var F=S(H),K=(1<<F)-1,Z=E(H,F,1);for(U=0;U<D;){var $,R=Z[N(e,m,K)];if(m+=15&R,($=R>>4)<16)z[U++]=$;else{var G=0,V=0;for(16==$?(V=3+N(e,m,3),m+=2,G=z[U-1]):17==$?(V=3+N(e,m,7),m+=3):18==$&&(V=11+N(e,m,127),m+=7);V--;)z[U++]=G}}var J=z.subarray(0,I),Q=z.subarray(I);k=S(J),x=S(Q),y=E(J,k,1),w=E(Q,x,1)}else j(1);if(m>C){f&&j(0);break}}d&&p(b+131072);for(var W=(1<<k)-1,X=(1<<x)-1,Y=m;;Y=m){var ee=(G=y[T(e,m)&W])>>4;if((m+=15&G)>C){f&&j(0);break}if(G||j(2),ee<256)n[b++]=ee;else{if(256==ee){Y=m,y=null;break}var te=ee-254;if(ee>264){var ne=c[U=ee-257];te=N(e,m,(1<<ne)-1)+v[U],m+=ne}var re=w[T(e,m)&X],ae=re>>4;re||j(3),m+=15&re;Q=g[ae];if(ae>3){ne=u[ae];Q+=T(e,m)&(1<<ne)-1,m+=ne}if(m>C){f&&j(0);break}d&&p(b+131072);var oe=b+te;if(b<Q){var ie=i-Q,le=Math.min(Q,oe);for(ie+b<0&&j(3);b<le;++b)n[b]=r[ie+b]}for(;b<oe;++b)n[b]=n[b-Q]}}t.l=y,t.p=Y,t.b=b,t.f=h,y&&(h=1,t.m=k,t.d=w,t.n=x)}while(!h);return b!=n.length&&l?_(n,0,b):n.subarray(0,b)},I=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},q=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},D=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,l=n.slice();if(!a)return{t:$,l:0};if(1==a){var c=new o(n[0].s+1);return c[n[0].s]=1,{t:c,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var u=n[0],s=n[1],d=0,f=1,v=2;for(n[0]={s:-1,f:u.f+s.f,l:u,r:s};f!=a-1;)u=n[n[d].f<n[v].f?d++:v++],s=n[d!=f&&n[d].f<n[v].f?d++:v++],n[f++]={s:-1,f:u.f+s.f,l:u,r:s};var p=l[0].s;for(r=1;r<a;++r)l[r].s>p&&(p=l[r].s);var h=new i(p+1),g=z(n[f-1],h,0);if(g>t){r=0;var m=0,b=g-t,y=1<<b;for(l.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));r<a;++r){var w=l[r].s;if(!(h[w]>t))break;m+=y-(1<<g-h[w]),h[w]=t}for(m>>=b;m>0;){var E=l[r].s;h[E]<t?m-=1<<t-h[E]++-1:++r}for(;r>=0&&m;--r){var k=l[r].s;h[k]==t&&(--h[k],++m)}g=t}return{t:new o(h),l:g}},z=function(e,t,n){return-1==e.s?Math.max(z(e.l,t,n+1),z(e.r,t,n+1)):t[e.s]=n},H=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new i(++t),r=0,a=e[0],o=1,l=function(e){n[r++]=e},c=1;c<=t;++c)if(e[c]==a&&c!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(a),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(a);o=1,a=e[c]}return{c:n.subarray(0,r),n:t}},U=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},F=function(e,t,n){var r=n.length,a=O(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var o=0;o<r;++o)e[a+o+4]=n[o];return 8*(a+4+r)},K=function(e,t,n,r,a,o,l,d,f,v,p){I(t,p++,n),++a[256];for(var h=D(a,15),g=h.t,m=h.l,b=D(o,15),y=b.t,w=b.l,L=H(g),A=L.c,S=L.n,N=H(y),T=N.c,O=N.n,_=new i(19),B=0;B<A.length;++B)++_[31&A[B]];for(B=0;B<T.length;++B)++_[31&T[B]];for(var j=D(_,7),P=j.t,z=j.l,K=19;K>4&&!P[s[K-1]];--K);var Z,$,R,G,V=v+5<<3,J=U(a,k)+U(o,x)+l,Q=U(a,g)+U(o,y)+l+14+3*K+U(_,P)+2*_[16]+3*_[17]+7*_[18];if(f>=0&&V<=J&&V<=Q)return F(t,p,e.subarray(f,f+v));if(I(t,p,1+(Q<J)),p+=2,Q<J){Z=E(g,m,0),$=g,R=E(y,w,0),G=y;var W=E(P,z,0);I(t,p,S-257),I(t,p+5,O-1),I(t,p+10,K-4),p+=14;for(B=0;B<K;++B)I(t,p+3*B,P[s[B]]);p+=3*K;for(var X=[A,T],Y=0;Y<2;++Y){var ee=X[Y];for(B=0;B<ee.length;++B){var te=31&ee[B];I(t,p,W[te]),p+=P[te],te>15&&(I(t,p,ee[B]>>5&127),p+=ee[B]>>12)}}}else Z=C,$=k,R=M,G=x;for(B=0;B<d;++B){var ne=r[B];if(ne>255){q(t,p,Z[(te=ne>>18&31)+257]),p+=$[te+257],te>7&&(I(t,p,ne>>23&31),p+=c[te]);var re=31&ne;q(t,p,R[re]),p+=G[re],re>3&&(q(t,p,ne>>5&8191),p+=u[re])}else q(t,p,Z[ne]),p+=$[ne]}return q(t,p,Z[256]),p+$[256]},Z=new l([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$=new o(0),R=function(e,t,n,r,a,s){var d=s.z||e.length,f=new o(r+d+5*(1+Math.ceil(d/7e3))+a),v=f.subarray(r,f.length-a),h=s.l,g=7&(s.r||0);if(t){g&&(v[0]=s.r>>3);for(var b=Z[t-1],y=b>>13,w=8191&b,E=(1<<n)-1,k=s.p||new i(32768),x=s.h||new i(E+1),C=Math.ceil(n/3),L=2*C,M=function(t){return(e[t]^e[t+1]<<C^e[t+2]<<L)&E},A=new l(25e3),S=new i(288),N=new i(32),T=0,B=0,j=s.i||0,P=0,I=s.w||0,q=0;j+2<d;++j){var D=M(j),z=32767&j,H=x[D];if(k[z]=H,x[D]=z,I<=j){var U=d-j;if((T>7e3||P>24576)&&(U>423||!h)){g=K(e,v,0,A,S,N,B,P,q,j-q,g),P=T=B=0,q=j;for(var $=0;$<286;++$)S[$]=0;for($=0;$<30;++$)N[$]=0}var R=2,G=0,V=w,J=z-H&32767;if(U>2&&D==M(j-J))for(var Q=Math.min(y,U)-1,W=Math.min(32767,j),X=Math.min(258,U);J<=W&&--V&&z!=H;){if(e[j+R]==e[j+R-J]){for(var Y=0;Y<X&&e[j+Y]==e[j+Y-J];++Y);if(Y>R){if(R=Y,G=J,Y>Q)break;var ee=Math.min(J,Y-2),te=0;for($=0;$<ee;++$){var ne=j-J+$&32767,re=ne-k[ne]&32767;re>te&&(te=re,H=ne)}}}J+=(z=H)-(H=k[z])&32767}if(G){A[P++]=268435456|p[R]<<18|m[G];var ae=31&p[R],oe=31&m[G];B+=c[ae]+u[oe],++S[257+ae],++N[oe],I=j+R,++T}else A[P++]=e[j],++S[e[j]]}}for(j=Math.max(j,I);j<d;++j)A[P++]=e[j],++S[e[j]];g=K(e,v,h,A,S,N,B,P,q,j-q,g),h||(s.r=7&g|v[g/8|0]<<3,g-=7,s.h=x,s.p=k,s.i=j,s.w=I)}else{for(j=s.w||0;j<d+h;j+=65535){var ie=j+65535;ie>=d&&(v[g/8|0]=h,ie=d),g=F(v,g+1,e.subarray(j,ie))}s.i=d}return _(f,0,r+O(g)+a)},G=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new o(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return R(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)};function V(e,t){return G(e,t||{},0,0)}function J(e,t){return P(e,{i:2},t&&t.out,t&&t.dictionary)}var Q="undefined"!=typeof TextEncoder&&new TextEncoder,W="undefined"!=typeof TextDecoder&&new TextDecoder;try{W.decode($,{stream:!0})}catch(e){}var X=function(e){for(var t="",n=0;;){var r=e[n++],a=(r>127)+(r>223)+(r>239);if(n+a>e.length)return{s:t,r:_(e,n-1)};a?3==a?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&a?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}};function Y(e,t){if(t){for(var n=new o(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(Q)return Q.encode(e);var a=e.length,i=new o(e.length+(e.length>>1)),l=0,c=function(e){i[l++]=e};for(r=0;r<a;++r){if(l+5>i.length){var u=new o(l+8+(a-r<<1));u.set(i),i=u}var s=e.charCodeAt(r);s<128||t?c(s):s<2048?(c(192|s>>6),c(128|63&s)):s>55295&&s<57344?(c(240|(s=65536+(1047552&s)|1023&e.charCodeAt(++r))>>18),c(128|s>>12&63),c(128|s>>6&63),c(128|63&s)):(c(224|s>>12),c(128|s>>6&63),c(128|63&s))}return _(i,0,l)}function ee(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(W)return W.decode(e);var a=X(e),o=a.s;return(n=a.r).length&&j(8),o}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function te(e){try{return btoa(e)}catch(e){return console.error("Failed to encode string to base64:",e),""}}function ne(e){try{return atob(e)}catch(e){return console.error("Failed to decode base64 string:",e),""}}var re=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},ae=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},oe=null,ie=null;function le(e,t,n,r){return re(this,void 0,void 0,(function(){var o,i,l,c,u,s,d,f,v,p;return ae(this,(function(h){switch(h.label){case 0:return(o=e.parentNode).classList.add("editor-loading"),[4,Promise.all([a.e("vendors"),a.e("ide")]).then(a.bind(a,"./src/ide.ts"))];case 1:return i=h.sent(),[4,Promise.all([a.e("vendors"),a.e("ide"),a.e("editor")]).then(a.bind(a,"./src/editor.ts"))];case 2:return l=h.sent(),o.classList.remove("editor-loading"),o.classList.add("editor"),c=e.attributes.module.value,u=c+".effekt",s=e.attributes.content.value,e.textContent="",d=e.attributes.prelude.value||"",f=e.attributes.postlude.value||"\n",v=i.createModel(u,s,d,f),i.updateModel(v),v.onDidChangeContent((function(e){i.updateModel(v)})),t&&((p=document.createElement("ul")).classList.add("repl-output"),o.insertAdjacentElement("afterend",p)),l.create(e,t,p,n,r,v),"playground"===e.id?oe=v:"repl"===e.id&&(ie=v),[2]}}))}))}function ce(){var t=document.querySelectorAll("pre > code"),n=0,r="";function a(e,t){var a="module"+n++;e.setAttribute("module",a);var o="module "+a+"\n",i=e.parentElement;if(t.repl)i.classList.add("repl"),e.setAttribute("prelude",o+r+"\ndef main() = inspect(locally{\n"),e.setAttribute("content",e.textContent),e.setAttribute("postlude","\n})\n");else{var l=o+r;e.setAttribute("prelude",l),e.setAttribute("postlude","\n"),e.setAttribute("content",e.textContent),t.ignore||(r=r+"import "+a+"\n")}}t.forEach((function(t){var n=function(e){var t=ue;return e.classList.forEach((function(e){var n;n="language-",0==e.indexOf(n)&&(t=function(e){var t=/^language-([a-zA-Z_\-$]+)/,n=e.split(":");function r(e){return-1!=n.indexOf(e)}return{language:t.exec(e)[1],hidden:r("hide"),prelude:r("prelude"),repl:r("repl"),readOnly:r("read-only"),reset:r("reset"),ignore:r("ignore"),sketch:r("sketch"),core:r("core"),lifted:r("lifted")}}(e))})),t}(t);n.reset&&(r=""),n.hidden&&(t.classList.add("hidden"),t.parentElement.classList.add("hidden")),"effekt"==n.language&&(n.repl&&t.classList.add("repl"),n.prelude&&(r+=t.textContent),n.prelude||n.sketch||(n.readOnly?a(t,n):(a(t,n),function(e,t){var n,r,a,o,i,l=e.parentNode.parentNode,c=document.createElement("nav");if(c.classList.add("code-menu"),t.core&&((n=document.createElement("code")).innerHTML="// Please click 'edit' to show generated core.",(a=document.createElement("div")).classList.add("core-out"),(o=document.createElement("h4")).innerHTML="Generated Core",a.appendChild(o),(i=document.createElement("pre")).append(n),a.appendChild(i),l.insertBefore(a,e.parentNode.nextSibling)),t.lifted&&((r=document.createElement("code")).innerHTML="// Please click 'edit' to show generated lifted core.",(a=document.createElement("div")).classList.add("core-out"),(o=document.createElement("h4")).innerHTML="Generated Lifted Core",a.appendChild(o),(i=document.createElement("pre")).append(r),a.appendChild(i),l.insertBefore(a,e.parentNode.nextSibling)),t.repl){var u=document.createElement("button");u.classList.add("button-run"),u.textContent="run",c.append(u),u.onclick=function(){return le(e,u,n,r),!1}}else if(!t.readOnly){if("playground"===e.id){var s=document.createElement("button");s.setAttribute("id","button-share"),s.textContent="share",c.append(s)}var d=document.createElement("button");d.classList.add("button-edit"),d.textContent="edit",c.append(d),d.onclick=function(){return d.onclick=function(){return!1},d.classList.add("disabled"),le(e,null,n,r),!1}}e.parentNode.prepend(c)}(t,n))),e.highlightBlock(t))}))}var ue={language:"effekt",hidden:!1,prelude:!1,repl:!1,readOnly:!1,reset:!1,ignore:!1,sketch:!1,core:!1,lifted:!1};function se(){var e,t,n=new URL(window.location.href);e=oe?oe.getValue():document.getElementById("playground")?document.getElementById("playground").textContent:"",t=ie?ie.getValue():document.getElementById("repl")?document.getElementById("repl").textContent:"";var r=function(e){try{return te(ee(V(Y(e)),!0))}catch(e){return console.error("Failed to compress and encode string:",e),""}}(e),a=te(t);n.searchParams.set("playground",r),n.searchParams.set("repl",a),navigator.clipboard.writeText(n.toString()).then((function(){history.pushState(null,"",n.toString())})).catch((function(e){console.error("Error copying text: ",e)}))}function de(e,t){var n=function(e){return new URLSearchParams(window.location.search).get(e)}(e),r=document.getElementById(e);if(n&&r){fe();var a=t?function(e){try{return ee(J(Y(ne(e),!0)))}catch(e){return console.error("Failed to decode and decompress string:",e),""}}(n):ne(n);r.textContent=a}}function fe(){var e=document.getElementById("playground-warning");e&&e.classList.remove("hidden")}window.addEventListener("DOMContentLoaded",(function(){de("playground",!0),de("repl",!1),ce();var t=document.getElementById("button-share");t&&(t.onclick=function(){fe(),se()}),e.configure({languages:["effekt","bash"]}),document.querySelectorAll("code").forEach((function(t){"pre"!=t.parentElement.tagName&&e.highlightBlock(t)})),r()}))})()})();