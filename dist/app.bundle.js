!function(e){function n(n){for(var t,a,o=n[0],i=n[1],l=0,u=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);for(c&&c(n);u.length;)u.shift()()}var t={},r={3:0};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise((function(n,a){t=r[e]=[n,a]}));n.push(t[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=function(e){return a.p+""+({0:"ide",1:"vendors~editor~ide",4:"editor"}[e]||e)+".chunk.js"}(e);var c=new Error;i=function(n){l.onerror=l.onload=null,clearTimeout(u);var t=r[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",c.name="ChunkLoadError",c.type=a,c.request=o,t[1](c)}r[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(n)},a.m=e,a.c=t,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/dist/",a.oe=function(e){throw console.error(e),e};var o=self.webpackJsonp=self.webpackJsonp||[],i=o.push.bind(o);o.push=n,o=o.slice();for(var l=0;l<o.length;l++)n(o[l]);var c=i;a(a.s="./src/index.ts")}({"./src/highlight-effekt.js":function(e,n){hljs.registerLanguage("effekt",(function(e){var n={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_?!]+"},{begin:"\\${",end:"}"}]},t={className:"string",variants:[{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:'"""',end:'"""',relevance:10},{begin:'[a-z]+"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,n]},{className:"string",begin:'[a-z]+"""',end:'"""',contains:[n],relevance:10}]},r={className:"type",begin:"\\b[A-Z][A-Za-z0-9_?!]*",relevance:0},a={className:"title",begin:/[^0-9\n\t "'(),.`{}\[\]:;][^\n\t "'(),.`{}\[\]:;]+|[^0-9\n\t "'(),.`{}\[\]:;=]/,relevance:0},o={className:"class",beginKeywords:"class object trait type",end:/[:={\[\n;]/,excludeEnd:!0,contains:[{beginKeywords:"extends with",relevance:10},{begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},a]},i={className:"function",beginKeywords:"def",end:/[:={\[(\n;]/,excludeEnd:!0,contains:[a]};return{name:"Effekt",keywords:{literal:"true false null",keyword:"module effect type def with val var if for while import return else case try match resume do record region in new interface let box unbox fun extern and is namespace"},contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t,{className:"symbol",begin:"'\\w[\\w\\d_?!]*(?!')"},r,i,o,e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"}]}})),e.exports=hljs},"./src/index.ts":function(e,n,t){"use strict";t.r(n);var r=t("./src/highlight-effekt.js");function a(e,n="active"){const t=document.querySelector(e);t&&t.classList.toggle(n)}function o(e,n){[...n.getElementsByTagName("h"+e)].map(e=>{void 0!==e.id&&""!==e.id&&e.append(function(e){const n=document.createElement("a");return n.className="header-link",n.href="#"+e,n.innerHTML='<i class="fa fa-link"></i>',n}(e.id))})}function i(){document.body.classList.contains("docs")&&(function(){const e=document.querySelectorAll("#menu-toggle, #main-toggle"),n=e=>{e.preventDefault(),a("#wrapper","toggled")};e&&[...e].map(e=>{e.addEventListener("touchstart",n,{passive:!1}),e.addEventListener("click",n)})}(),function(){const e=document.querySelectorAll(".drop-nested"),n=e=>{e.preventDefault(),function(e,n="active"){const t=e.parentNode;t&&t.classList.toggle(n)}(e.currentTarget,"open");if("a"===e.currentTarget.tagName.toLowerCase()){const n=e.currentTarget,t=n.parentNode,r=n.href;r===window.location.href||t.classList.contains("active")||(window.location.href=r)}};e&&[...e].map(e=>{e.addEventListener("touchstart",n,{passive:!1}),e.addEventListener("click",n)})}(),function(){const e=document.querySelector("#content");[...Array(7).keys()].map(n=>{o(n,e)})}())}var l=Uint8Array,c=Uint16Array,u=Int32Array,s=new l([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d=new l([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f=new l([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=function(e,n){for(var t=new c(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];var a=new u(t[30]);for(r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},p=v(s,2),h=p.b,g=p.r;h[28]=258,g[258]=28;for(var m=v(d,0),b=m.b,y=m.r,w=new c(32768),E=0;E<32768;++E){var x=(43690&E)>>1|(21845&E)<<1;x=(61680&(x=(52428&x)>>2|(13107&x)<<2))>>4|(3855&x)<<4,w[E]=((65280&x)>>8|(255&x)<<8)>>1}var k=function(e,n,t){for(var r=e.length,a=0,o=new c(n);a<r;++a)e[a]&&++o[e[a]-1];var i,l=new c(n);for(a=1;a<n;++a)l[a]=l[a-1]+o[a-1]<<1;if(t){i=new c(1<<n);var u=15-n;for(a=0;a<r;++a)if(e[a])for(var s=a<<4|e[a],d=n-e[a],f=l[e[a]-1]++<<d,v=f|(1<<d)-1;f<=v;++f)i[w[f]>>u]=s}else for(i=new c(r),a=0;a<r;++a)e[a]&&(i[a]=w[l[e[a]-1]++]>>15-e[a]);return i},C=new l(288);for(E=0;E<144;++E)C[E]=8;for(E=144;E<256;++E)C[E]=9;for(E=256;E<280;++E)C[E]=7;for(E=280;E<288;++E)C[E]=8;var L=new l(32);for(E=0;E<32;++E)L[E]=5;var M=k(C,9,0),A=k(C,9,1),S=k(L,5,0),N=k(L,5,1),T=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},O=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(7&n)&t},_=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(7&n)},P=function(e){return(e+7)/8|0},B=function(e,n,t){return(null==n||n<0)&&(n=0),(null==t||t>e.length)&&(t=e.length),new l(e.subarray(n,t))},j=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],q=function(e,n,t){var r=new Error(n||j[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,q),!t)throw r;return r},D=function(e,n,t,r){var a=e.length,o=r?r.length:0;if(!a||n.f&&!n.l)return t||new l(0);var i=!t,c=i||2!=n.i,u=n.i;i&&(t=new l(3*a));var v=function(e){var n=t.length;if(e>n){var r=new l(Math.max(2*n,e));r.set(t),t=r}},p=n.f||0,g=n.p||0,m=n.b||0,y=n.l,w=n.d,E=n.m,x=n.n,C=8*a;do{if(!y){p=O(e,g,1);var L=O(e,g+1,3);if(g+=3,!L){var M=e[(G=P(g)+4)-4]|e[G-3]<<8,S=G+M;if(S>a){u&&q(0);break}c&&v(m+M),t.set(e.subarray(G,S),m),n.b=m+=M,n.p=g=8*S,n.f=p;continue}if(1==L)y=A,w=N,E=9,x=5;else if(2==L){var j=O(e,g,31)+257,D=O(e,g+10,15)+4,I=j+O(e,g+5,31)+1;g+=14;for(var z=new l(I),H=new l(19),F=0;F<D;++F)H[f[F]]=O(e,g+3*F,7);g+=3*D;var K=T(H),U=(1<<K)-1,Z=k(H,K,1);for(F=0;F<I;){var G,R=Z[O(e,g,U)];if(g+=15&R,(G=R>>4)<16)z[F++]=G;else{var $=0,J=0;for(16==G?(J=3+O(e,g,3),g+=2,$=z[F-1]):17==G?(J=3+O(e,g,7),g+=3):18==G&&(J=11+O(e,g,127),g+=7);J--;)z[F++]=$}}var V=z.subarray(0,j),Q=z.subarray(j);E=T(V),x=T(Q),y=k(V,E,1),w=k(Q,x,1)}else q(1);if(g>C){u&&q(0);break}}c&&v(m+131072);for(var W=(1<<E)-1,X=(1<<x)-1,Y=g;;Y=g){var ee=($=y[_(e,g)&W])>>4;if((g+=15&$)>C){u&&q(0);break}if($||q(2),ee<256)t[m++]=ee;else{if(256==ee){Y=g,y=null;break}var ne=ee-254;if(ee>264){var te=s[F=ee-257];ne=O(e,g,(1<<te)-1)+h[F],g+=te}var re=w[_(e,g)&X],ae=re>>4;re||q(3),g+=15&re;Q=b[ae];if(ae>3){te=d[ae];Q+=_(e,g)&(1<<te)-1,g+=te}if(g>C){u&&q(0);break}c&&v(m+131072);var oe=m+ne;if(m<Q){var ie=o-Q,le=Math.min(Q,oe);for(ie+m<0&&q(3);m<le;++m)t[m]=r[ie+m]}for(;m<oe;++m)t[m]=t[m-Q]}}n.l=y,n.p=Y,n.b=m,n.f=p,y&&(p=1,n.m=E,n.d=w,n.n=x)}while(!p);return m!=t.length&&i?B(t,0,m):t.subarray(0,m)},I=function(e,n,t){t<<=7&n;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},z=function(e,n,t){t<<=7&n;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},H=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var a=t.length,o=t.slice();if(!a)return{t:$,l:0};if(1==a){var i=new l(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort((function(e,n){return e.f-n.f})),t.push({s:-1,f:25001});var u=t[0],s=t[1],d=0,f=1,v=2;for(t[0]={s:-1,f:u.f+s.f,l:u,r:s};f!=a-1;)u=t[t[d].f<t[v].f?d++:v++],s=t[d!=f&&t[d].f<t[v].f?d++:v++],t[f++]={s:-1,f:u.f+s.f,l:u,r:s};var p=o[0].s;for(r=1;r<a;++r)o[r].s>p&&(p=o[r].s);var h=new c(p+1),g=F(t[f-1],h,0);if(g>n){r=0;var m=0,b=g-n,y=1<<b;for(o.sort((function(e,n){return h[n.s]-h[e.s]||e.f-n.f}));r<a;++r){var w=o[r].s;if(!(h[w]>n))break;m+=y-(1<<g-h[w]),h[w]=n}for(m>>=b;m>0;){var E=o[r].s;h[E]<n?m-=1<<n-h[E]++-1:++r}for(;r>=0&&m;--r){var x=o[r].s;h[x]==n&&(--h[x],++m)}g=n}return{t:new l(h),l:g}},F=function(e,n,t){return-1==e.s?Math.max(F(e.l,n,t+1),F(e.r,n,t+1)):n[e.s]=t},K=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new c(++n),r=0,a=e[0],o=1,i=function(e){t[r++]=e},l=1;l<=n;++l)if(e[l]==a&&l!=n)++o;else{if(!a&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(a),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(a);o=1,a=e[l]}return{c:t.subarray(0,r),n:n}},U=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},Z=function(e,n,t){var r=t.length,a=P(n+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var o=0;o<r;++o)e[a+o+4]=t[o];return 8*(a+4+r)},G=function(e,n,t,r,a,o,i,l,u,v,p){I(n,p++,t),++a[256];for(var h=H(a,15),g=h.t,m=h.l,b=H(o,15),y=b.t,w=b.l,E=K(g),x=E.c,A=E.n,N=K(y),T=N.c,O=N.n,_=new c(19),P=0;P<x.length;++P)++_[31&x[P]];for(P=0;P<T.length;++P)++_[31&T[P]];for(var B=H(_,7),j=B.t,q=B.l,D=19;D>4&&!j[f[D-1]];--D);var F,G,R,$,J=v+5<<3,V=U(a,C)+U(o,L)+i,Q=U(a,g)+U(o,y)+i+14+3*D+U(_,j)+2*_[16]+3*_[17]+7*_[18];if(u>=0&&J<=V&&J<=Q)return Z(n,p,e.subarray(u,u+v));if(I(n,p,1+(Q<V)),p+=2,Q<V){F=k(g,m,0),G=g,R=k(y,w,0),$=y;var W=k(j,q,0);I(n,p,A-257),I(n,p+5,O-1),I(n,p+10,D-4),p+=14;for(P=0;P<D;++P)I(n,p+3*P,j[f[P]]);p+=3*D;for(var X=[x,T],Y=0;Y<2;++Y){var ee=X[Y];for(P=0;P<ee.length;++P){var ne=31&ee[P];I(n,p,W[ne]),p+=j[ne],ne>15&&(I(n,p,ee[P]>>5&127),p+=ee[P]>>12)}}}else F=M,G=C,R=S,$=L;for(P=0;P<l;++P){var te=r[P];if(te>255){z(n,p,F[(ne=te>>18&31)+257]),p+=G[ne+257],ne>7&&(I(n,p,te>>23&31),p+=s[ne]);var re=31&te;z(n,p,R[re]),p+=$[re],re>3&&(z(n,p,te>>5&8191),p+=d[re])}else z(n,p,F[te]),p+=G[te]}return z(n,p,F[256]),p+G[256]},R=new u([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$=new l(0),J=function(e,n,t,r,a,o){var i=o.z||e.length,f=new l(r+i+5*(1+Math.ceil(i/7e3))+a),v=f.subarray(r,f.length-a),p=o.l,h=7&(o.r||0);if(n){h&&(v[0]=o.r>>3);for(var m=R[n-1],b=m>>13,w=8191&m,E=(1<<t)-1,x=o.p||new c(32768),k=o.h||new c(E+1),C=Math.ceil(t/3),L=2*C,M=function(n){return(e[n]^e[n+1]<<C^e[n+2]<<L)&E},A=new u(25e3),S=new c(288),N=new c(32),T=0,O=0,_=o.i||0,j=0,q=o.w||0,D=0;_+2<i;++_){var I=M(_),z=32767&_,H=k[I];if(x[z]=H,k[I]=z,q<=_){var F=i-_;if((T>7e3||j>24576)&&(F>423||!p)){h=G(e,v,0,A,S,N,O,j,D,_-D,h),j=T=O=0,D=_;for(var K=0;K<286;++K)S[K]=0;for(K=0;K<30;++K)N[K]=0}var U=2,$=0,J=w,V=z-H&32767;if(F>2&&I==M(_-V))for(var Q=Math.min(b,F)-1,W=Math.min(32767,_),X=Math.min(258,F);V<=W&&--J&&z!=H;){if(e[_+U]==e[_+U-V]){for(var Y=0;Y<X&&e[_+Y]==e[_+Y-V];++Y);if(Y>U){if(U=Y,$=V,Y>Q)break;var ee=Math.min(V,Y-2),ne=0;for(K=0;K<ee;++K){var te=_-V+K&32767,re=te-x[te]&32767;re>ne&&(ne=re,H=te)}}}V+=(z=H)-(H=x[z])&32767}if($){A[j++]=268435456|g[U]<<18|y[$];var ae=31&g[U],oe=31&y[$];O+=s[ae]+d[oe],++S[257+ae],++N[oe],q=_+U,++T}else A[j++]=e[_],++S[e[_]]}}for(_=Math.max(_,q);_<i;++_)A[j++]=e[_],++S[e[_]];h=G(e,v,p,A,S,N,O,j,D,_-D,h),p||(o.r=7&h|v[h/8|0]<<3,h-=7,o.h=k,o.p=x,o.i=_,o.w=q)}else{for(_=o.w||0;_<i+p;_+=65535){var ie=_+65535;ie>=i&&(v[h/8|0]=p,ie=i),h=Z(v,h+1,e.subarray(_,ie))}o.i=i}return B(f,0,r+P(h)+a)},V=function(e,n,t,r,a){if(!a&&(a={l:1},n.dictionary)){var o=n.dictionary.subarray(-32768),i=new l(o.length+e.length);i.set(o),i.set(e,o.length),e=i,a.w=o.length}return J(e,null==n.level?6:n.level,null==n.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+n.mem,t,r,a)};function Q(e,n){return V(e,n||{},0,0)}function W(e,n){return D(e,{i:2},n&&n.out,n&&n.dictionary)}var X="undefined"!=typeof TextEncoder&&new TextEncoder,Y="undefined"!=typeof TextDecoder&&new TextDecoder;try{Y.decode($,{stream:!0}),1}catch(e){}var ee=function(e){for(var n="",t=0;;){var r=e[t++],a=(r>127)+(r>223)+(r>239);if(t+a>e.length)return{s:n,r:B(e,t-1)};a?3==a?(r=((15&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r)):n+=1&a?String.fromCharCode((31&r)<<6|63&e[t++]):String.fromCharCode((15&r)<<12|(63&e[t++])<<6|63&e[t++]):n+=String.fromCharCode(r)}};function ne(e,n){if(n){for(var t=new l(e.length),r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}if(X)return X.encode(e);var a=e.length,o=new l(e.length+(e.length>>1)),i=0,c=function(e){o[i++]=e};for(r=0;r<a;++r){if(i+5>o.length){var u=new l(i+8+(a-r<<1));u.set(o),o=u}var s=e.charCodeAt(r);s<128||n?c(s):s<2048?(c(192|s>>6),c(128|63&s)):s>55295&&s<57344?(c(240|(s=65536+(1047552&s)|1023&e.charCodeAt(++r))>>18),c(128|s>>12&63),c(128|s>>6&63),c(128|63&s)):(c(224|s>>12),c(128|s>>6&63),c(128|63&s))}return B(o,0,i)}function te(e,n){if(n){for(var t="",r=0;r<e.length;r+=16384)t+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return t}if(Y)return Y.decode(e);var a=ee(e),o=a.s;return(t=a.r).length&&q(8),o}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function re(e){try{return btoa(e)}catch(e){return console.error("Failed to encode string to base64:",e),""}}function ae(e){try{return atob(e)}catch(e){return console.error("Failed to decode base64 string:",e),""}}var oe=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,l)}c((r=r.apply(e,n||[])).next())}))},ie=function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},le=null,ce=null;function ue(e,n,r,a){return oe(this,void 0,void 0,(function(){var o,i,l,c,u,s,d,f,v,p;return ie(this,(function(h){switch(h.label){case 0:return(o=e.parentNode).classList.add("editor-loading"),[4,Promise.all([t.e(1),t.e(0)]).then(t.bind(null,"./src/ide.ts"))];case 1:return i=h.sent(),[4,Promise.all([t.e(1),t.e(0),t.e(4)]).then(t.bind(null,"./src/editor.ts"))];case 2:return l=h.sent(),o.classList.remove("editor-loading"),o.classList.add("editor"),c=e.attributes.module.value,u=c+".effekt",s=e.attributes.content.value,e.textContent="",d=e.attributes.prelude.value||"",f=e.attributes.postlude.value||"\n",v=i.createModel(u,s,d,f),i.updateModel(v),v.onDidChangeContent((function(e){i.updateModel(v)})),n&&((p=document.createElement("ul")).classList.add("repl-output"),o.insertAdjacentElement("afterend",p)),l.create(e,n,p,r,a,v),"playground"===e.id?le=v:"repl"===e.id&&(ce=v),[2]}}))}))}function se(){var e=document.querySelectorAll("pre > code"),n=0,t="";function a(e,r){var a="module"+n++;e.setAttribute("module",a);var o="module "+a+"\n",i=e.parentElement;if(r.repl)i.classList.add("repl"),e.setAttribute("prelude",o+t+"\ndef main() = inspect(\n"),e.setAttribute("content",e.textContent),e.setAttribute("postlude","\n)\n");else{var l=o+t;e.setAttribute("prelude",l),e.setAttribute("postlude","\n"),e.setAttribute("content",e.textContent),r.ignore||(t=t+"import "+a+"\n")}}e.forEach((function(e){var n=function(e){var n=de;return e.classList.forEach((function(e){var t;t="language-",0==e.indexOf(t)&&(n=function(e){var n=e.split(":");function t(e){return-1!=n.indexOf(e)}return{language:/^language-([a-zA-Z_\-$]+)/.exec(e)[1],hidden:t("hide"),prelude:t("prelude"),repl:t("repl"),readOnly:t("read-only"),reset:t("reset"),ignore:t("ignore"),sketch:t("sketch"),core:t("core"),lifted:t("lifted")}}(e))})),n}(e);n.reset&&(t=""),n.hidden&&(e.classList.add("hidden"),e.parentElement.classList.add("hidden")),"effekt"==n.language&&(n.repl&&e.classList.add("repl"),n.prelude&&(t+=e.textContent),n.prelude||n.sketch||(n.readOnly?a(e,n):(a(e,n),function(e,n){var t,r,a,o,i,l=e.parentNode.parentNode,c=document.createElement("nav");if(c.classList.add("code-menu"),n.core&&((t=document.createElement("code")).innerHTML="// Please click 'edit' to show generated core.",(a=document.createElement("div")).classList.add("core-out"),(o=document.createElement("h4")).innerHTML="Generated Core",a.appendChild(o),(i=document.createElement("pre")).append(t),a.appendChild(i),l.insertBefore(a,e.parentNode.nextSibling)),n.lifted&&((r=document.createElement("code")).innerHTML="// Please click 'edit' to show generated lifted core.",(a=document.createElement("div")).classList.add("core-out"),(o=document.createElement("h4")).innerHTML="Generated Lifted Core",a.appendChild(o),(i=document.createElement("pre")).append(r),a.appendChild(i),l.insertBefore(a,e.parentNode.nextSibling)),n.repl){var u=document.createElement("button");u.classList.add("button-run"),u.textContent="run",c.append(u),u.onclick=function(){return ue(e,u,t,r),!1}}else if(!n.readOnly){if("playground"===e.id){var s=document.createElement("button");s.setAttribute("id","button-share"),s.textContent="share",c.append(s)}var d=document.createElement("button");d.classList.add("button-edit"),d.textContent="edit",c.append(d);d.onclick=function(){return d.onclick=function(){return!1},d.classList.add("disabled"),ue(e,null,t,r),!1}}e.parentNode.prepend(c)}(e,n))),r.highlightBlock(e))}))}var de={language:"effekt",hidden:!1,prelude:!1,repl:!1,readOnly:!1,reset:!1,ignore:!1,sketch:!1,core:!1,lifted:!1};function fe(){var e,n,t=new URL(window.location.href);e=le?le.getValue():document.getElementById("playground")?document.getElementById("playground").textContent:"",n=ce?ce.getValue():document.getElementById("repl")?document.getElementById("repl").textContent:"";var r=function(e){try{return re(te(Q(ne(e)),!0))}catch(e){return console.error("Failed to compress and encode string:",e),""}}(e),a=re(n);t.searchParams.set("playground",r),t.searchParams.set("repl",a),navigator.clipboard.writeText(t.toString()).then((function(){history.pushState(null,"",t.toString())})).catch((function(e){console.error("Error copying text: ",e)}))}function ve(e,n){var t=function(e){return new URLSearchParams(window.location.search).get(e)}(e),r=document.getElementById(e);if(t&&r){pe();var a=n?function(e){try{return te(W(ne(ae(e),!0)))}catch(e){return console.error("Failed to decode and decompress string:",e),""}}(t):ae(t);r.textContent=a}}function pe(){var e=document.getElementById("playground-warning");e&&e.classList.remove("hidden")}window.addEventListener("DOMContentLoaded",(function(){ve("playground",!0),ve("repl",!1),se();var e=document.getElementById("button-share");e&&(e.onclick=function(){pe(),fe()}),r.configure({languages:["effekt","bash"]}),document.querySelectorAll("code").forEach((function(e){"pre"!=e.parentElement.tagName&&r.highlightBlock(e)})),i()}))}});