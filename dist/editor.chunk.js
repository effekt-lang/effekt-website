"use strict";(self.webpackChunkeffekt_website=self.webpackChunkeffekt_website||[]).push([["editor"],{"./src/editor.ts":(e,o,n)=>{n.r(o),n.d(o,{create:()=>f});var t=n("include-loader!./node_modules/monaco-editor/esm/vs/editor/editor.api.js"),r=n("./src/highlight-effekt.js"),i={keywords:["module","import","def","val","var","effect","type","match","case","record","extern","include","resume","with","if","try","else","do","handle","while","fun","region","in","new","box","unbox","interface","resource","and","is","namespace"],definitionKeywords:["def","type","effect"],literals:["true","false"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,tokenizer:{root:[[/[a-z_$][\w$?!]*/,{cases:{"@keywords":{cases:{"@definitionKeywords":{token:"keyword",next:"@definition"},"@default":"keyword"}},"@literals":"literal","@default":"identifier"}}],[/[A-Z][\w\$?!]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/'/,"string.invalid"]],definition:[{include:"@whitespace"},[/[a-zA-Z_$][\w$?!]*/,"definition"],[new RegExp(""),"","@pop"]],comment:[[/[^\/*]+/,"comment"]],string:[[/[^\\"]+/,"string"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}},d=n("./src/ide.ts");function f(e,o,n,i,f,l){var a=document.body.classList.contains("docs")?"effekt-docs-theme":"effekt-page-theme",s=t.editor.create(e,{model:l,language:"effekt",theme:a,fontSize:13,fontFamily:"'Fira Mono', monospace",minimap:{enabled:!1},lineNumbers:"off",automaticLayout:!1,scrollBeyondLastLine:!1,folding:!1,contextmenu:!1,matchBrackets:"never",overviewRulerBorder:!1,cursorStyle:"line",renderFinalNewline:"off",renderLineHighlight:"none",fixedOverflowWidgets:!0,lightbulb:{enabled:t.editor.ShowLightbulbIconMode.Off},quickSuggestions:!1,scrollbar:{handleMouseWheel:!1,alwaysConsumeMouseWheel:!1,horizontal:"hidden",useShadows:!1,vertical:"hidden"}});return function(e){e.onDidChangeModelContent((function(){n()}));var o=0;function n(){var n,r=e.getDomNode();if(r){var i=e.getOption(t.editor.EditorOption.lineHeight),d=(null===(n=e.getModel())||void 0===n?void 0:n.getLineCount())||1,f=e.getTopForLineNumber(d+1)+i;o!==f&&(o=f,r.style.height="".concat(f,"px"),e.layout())}}n()}(s),function(e){var o;e.onDidChangeModelContent((function(n){o&&clearTimeout(o);var t=e.getModel();o=setTimeout((function(){return d.typecheck(t)}),150)}))}(s),function(e,o,n){var t;function i(e){if(o){var t=d.showCore(e);o.innerText=t,r.highlightBlock(o)}if(n){var i=d.showLiftedCore(e);n.innerText=i,r.highlightBlock(n)}}var f=e.getModel();e.onDidChangeModelContent((function(e){t&&clearTimeout(t),t=setTimeout((function(){return i(f)}),150)})),i(f)}(s,i,f),d.typecheck(l),function(e,o,n){function r(e){var o=console.log;n.innerHTML="";try{console.log=function(e){var o=document.createElement("li");o.innerText=e,n.appendChild(o)},d.evaluate(e.getModel().getFullText()),n.classList.remove("cleared")}catch(e){console.log(e)}finally{console.log=o,n.classList.remove("cleared")}return!1}o&&(o.onclick=function(){return r(e)},e.addAction({id:"effekt-run",label:"Run code",keybindings:[t.KeyCode.Enter],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:r}),r(e))}(s,o,n),s}self.MonacoEnvironment={getWorkerUrl:function(e,o){return"/dist/editor.worker.bundle.js"}},t.languages.register({id:"effekt"}),t.languages.setMonarchTokensProvider("effekt",i),t.editor.defineTheme("effekt-docs-theme",{base:"vs",inherit:!1,colors:{"editor.background":"#f8f8f7"},rules:[{token:"",foreground:"333333",background:"f8f8f7"},{token:"keyword",foreground:"333333",fontStyle:"bold"},{token:"identifier",foreground:"333333"},{token:"type.identifier",foreground:"d73a49"},{token:"definition",foreground:"735080"},{token:"custom-info",foreground:"808080"},{token:"string",foreground:"25995f"},{token:"number",foreground:"005cc5"},{token:"comment",foreground:"969896"},{token:"literal",foreground:"0086b3"}]}),t.editor.defineTheme("effekt-page-theme",{base:"vs",inherit:!1,colors:{"editor.background":"#ffffff"},rules:[{token:"",foreground:"333333",background:"f8f8f7"},{token:"keyword",foreground:"333333",fontStyle:"bold"},{token:"identifier",foreground:"333333"},{token:"type.identifier",foreground:"d73a49"},{token:"definition",foreground:"735080"},{token:"custom-info",foreground:"808080"},{token:"string",foreground:"25995f"},{token:"number",foreground:"005cc5"},{token:"comment",foreground:"969896"},{token:"literal",foreground:"0086b3"}]}),t.languages.registerHoverProvider("effekt",d.hoverProvider)}}]);